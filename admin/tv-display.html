<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SQMS | Live TV Display</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Tomorrow:wght@700;900&family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #0F0F13;
            --accent-blue: #4DA1FF;
            --accent-purple: #8B5CF6;
        }
        body {
            background-color: var(--bg-color);
            color: white;
            font-family: 'Inter', sans-serif;
            overflow: hidden;
        }
        .font-tomorrow { font-family: 'Tomorrow', sans-serif; }
        .glass {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 30px;
        }
        .neon-blue {
            text-shadow: 0 0 30px rgba(77, 161, 255, 0.3);
        }
        .call-flash {
            animation: flash 1.5s infinite alternate;
        }
        @keyframes flash {
            from { opacity: 1; transform: scale(1); box-shadow: 0 0 0 rgba(77, 161, 255, 0); }
            to { opacity: 0.8; transform: scale(1.02); box-shadow: 0 0 50px rgba(77, 161, 255, 0.2); }
        }
        .gradient-text {
            background: linear-gradient(135deg, #4DA1FF, #8B5CF6);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        /* Fallback for when Tailwind fails to load */
        svg { max-width: 100%; height: auto; }
        .w-16 { width: 64px; } .h-16 { height: 64px; }
    </style>
</head>
<body class="h-screen flex flex-col p-10 gap-10">
    <!-- Branding Header -->
    <header class="flex justify-between items-center px-4">
        <div class="flex items-center gap-6">
            <div class="w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-2xl">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-white" width="40" height="40" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M13 10V3L4 14h7v7l9-11h-7z" />
                </svg>
            </div>
            <div>
                <h1 class="font-tomorrow text-5xl tracking-tighter leading-none">SQMS <span class="text-blue-500 font-black italic">LIVE</span></h1>
                <p class="text-white/20 text-xs tracking-[10px] uppercase font-bold mt-1">Real-time Queue Status</p>
            </div>
        </div>
        <div class="glass px-8 py-4 flex items-center gap-4">
            <div class="w-3 h-3 bg-green-500 rounded-full animate-pulse shadow-[0_0_10px_#22c55e]"></div>
            <p class="font-tomorrow text-xl tracking-widest text-white/50" id="live-timer">SYSTEM ACTIVE</p>
        </div>
    </header>

    <!-- Main Content -->
    <div class="flex-grow flex gap-10 overflow-hidden">
        <!-- Status Grid -->
        <div class="w-2/3 flex flex-col gap-6">
            <h2 class="font-tomorrow text-xl tracking-[10px] uppercase text-white/30 px-4">Now Serving / sedang dilayani</h2>
            <div class="grid grid-cols-2 gap-8 flex-grow content-start" id="active-counters-grid">
                <!-- Counter Cards (Dynamic) -->
            </div>
        </div>

        <!-- Waiting List -->
        <div class="w-1/3 flex flex-col gap-6">
            <h2 class="font-tomorrow text-xl tracking-[10px] uppercase text-white/30 px-4">Up Next / selanjutnya</h2>
            <div class="glass flex-grow p-8 flex flex-col gap-6 overflow-hidden">
                <div class="flex flex-col gap-4 overflow-y-auto pr-2 custom-scrollbar" id="waiting-list">
                    <!-- Waitlist items (Dynamic) -->
                </div>
                
                <!-- Bottom Info -->
                <div class="mt-auto pt-8 border-t border-white/5 text-center">
                    <p class="text-white/20 text-sm tracking-widest uppercase mb-6 font-bold">Join the queue via app</p>
                    <div id="qrcode-container" class="w-48 h-48 bg-white p-4 mx-auto rounded-3xl shadow-2xl relative overflow-hidden flex items-center justify-center">
                        <!-- QR Code will be injected here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Announcement Ticker -->
    <div id="ticker-container" class="glass w-full py-4 px-6 mt-auto overflow-hidden relative shrink-0 hidden">
        <div class="absolute inset-0 bg-blue-500/10 -z-10"></div>
        <div class="flex items-center gap-6">
            <span class="font-tomorrow text-sm tracking-[5px] uppercase text-blue-400 font-black whitespace-nowrap z-10 px-4 py-1 rounded bg-[#0F0F13] border border-blue-500/30 shadow-[0_0_15px_rgba(77,161,255,0.2)]">NOTICE</span>
            <marquee id="announcement-ticker" class="text-white font-medium tracking-wider text-xl" scrollamount="6">
                <!-- Injected via JS -->
            </marquee>
        </div>
    </div>

    <!-- Background Decoration -->
    <div class="fixed top-[-10%] right-[-10%] w-[800px] h-[800px] bg-blue-600/5 blur-[150px] -z-10 rounded-full"></div>
    <div class="fixed bottom-[-10%] left-[-10%] w-[800px] h-[800px] bg-purple-600/5 blur-[150px] -z-10 rounded-full"></div>

    <style>
        .custom-scrollbar::-webkit-scrollbar { width: 4px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.1); border-radius: 10px; }
    </style>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="js/tv-display.js"></script>
    <script>
        // Simple live timer
        setInterval(() => {
            const now = new Date();
            document.getElementById('live-timer').innerText = now.toLocaleTimeString([], { hour12: false });
        }, 1000);

        // Logic moved to tv-display.js to ensure variable scope
    </script>
</body>
</html>
